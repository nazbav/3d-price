# Обзор проекта

`test.html` — экспериментальный калькулятор себестоимости 3D‑печати. Страница содержит все актуальные функции и формулы, описанные в README. Другие HTML‑файлы репозитория отражают более ранние версии интерфейса.

Основные разделы калькулятора:

- **Калькулятор** — ввод параметров печати и расчёт стоимости.
- **История** — сохранённые расчёты и фильтрация по датам.
- **Клиенты** — база заказчиков.
- **Принтеры** — список оборудования с привязкой расходных материалов.
- **Общие материалы** — материалы, доступные всем принтерам.
- **Общие доп. расходы** — единые траты для всех принтеров.
- **Настройки** — ставки, параметры печати и облачная синхронизация.
- **Итоги** — сводная статистика по прибыли и времени работы.

Дополнительные возможности включают импорт/экспорт JSON, синхронизацию через Supabase и генерацию этикеток. В таблице расчёта модели можно загрузить миниатюру (JPEG 140×110). Изображение обрезается по центру, сжимается и сохраняется в Base64 при клике по иконке.
После расчёта доступна кнопка **Скачать все этикетки**, собирающая один HTML-файл со всеми моделями.
Теперь можно формировать чеки и счета через сервис "Мой Налог" прямо из расчёта.
На панели результатов появляются кнопки **Отправить чек** и **Сформировать счёт**.
В разделе настроек можно сохранить токен и войти по телефону с подтверждением SMS.

Дополнительно выводится сообщение с ID операции при успешном ответе сервиса.
Исправлена проблема с загрузкой страницы в старых браузерах (события инициализируются без optional chaining).

Оплаченные заказы учитываются в разделе «Итоги» как завершённые.
В истории расчётов отображается ссылка на чек при его наличии.
Добавлена кнопка **Отменить чек** для аннулирования последнего чека через сервис «Мой Налог».
Отменённые и заменённые чеки выделяются красным цветом. При повторном формировании предыдущий чек отменяется автоматически.
